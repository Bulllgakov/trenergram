# –ü–∞–º—è—Ç–∫–∞ –¥–ª—è Claude –æ –ø—Ä–æ–µ–∫—Ç–µ Trenergram

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –î–ï–ü–õ–û–ô
**–î–ï–ü–õ–û–ô –¢–û–õ–¨–ö–û –ß–ï–†–ï–ó GITHUB ACTIONS!**
- –ü—Ä–∏ `git push origin main` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –¥–µ–ø–ª–æ–π
- –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ SSH
- –ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Docker Compose –≤ `/opt/trenergram/`
- –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —á—Ç–æ-—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ - –¥–µ–ª–∞–π —á–µ—Ä–µ–∑ –∫–æ–º–º–∏—Ç –∏ push

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ URL (–í–ê–ñ–ù–û!)
- **trenergram.ru/** - –í–µ–±-–≤–∏—Ç—Ä–∏–Ω–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **trenergram.ru/trainer/:id** - Mini App —Ç—Ä–µ–Ω–µ—Ä–∞ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram)
- **trenergram.ru/client/:id** - Mini App –∫–ª–∏–µ–Ω—Ç–∞ (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram)
- **trenergram.ru/api/** - Backend API
- **trenergram.ru/club-admin/** - –ü–∞–Ω–µ–ª—å –∫–ª—É–±–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
- **trenergram.ru/admin/** - –°—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∫–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## Mini App
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
  - `webapp/trainer/` - Mini App —Ç—Ä–µ–Ω–µ—Ä–∞ (HTML/JS)
  - `webapp/client/` - Mini App –∫–ª–∏–µ–Ω—Ç–∞ (HTML/JS)
- **–ü–æ–ª–Ω—ã–µ –ø—É—Ç–∏:**
  - –õ–æ–∫–∞–ª—å–Ω–æ: `/Users/bulat/trenergram/webapp/trainer/`, `/Users/bulat/trenergram/webapp/client/`
  - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ: `/var/www/trenergram/webapp/trainer/`, `/var/www/trenergram/webapp/client/`
- URL: `trenergram.ru/trainer/:id` –∏ `trenergram.ru/client/:id`
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

## –°–µ—Ä–≤–µ—Ä
- IP: 81.200.157.102
- –î–æ–º–µ–Ω: trenergram.ru
- SSH: root@81.200.157.102 (–ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨ –¥–ª—è –¥–µ–ø–ª–æ—è!)
- –ü—Ä–æ–µ–∫—Ç: /opt/trenergram (Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- **–í–ê–ñ–ù–û: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
  - `/var/www/trenergram/webapp/trainer/` - Mini App —Ç—Ä–µ–Ω–µ—Ä–∞ (nginx)
  - `/var/www/trenergram/webapp/client/` - Mini App –∫–ª–∏–µ–Ω—Ç–∞ (nginx)
  - `/opt/trenergram/backend/` - Backend API (Docker)
- **–í–ê–ñ–ù–û: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è!**
- **–í–ê–ñ–ù–û: –í–µ–∑–¥–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–∞–ø–∫–∞ webapp - –∏ –ª–æ–∫–∞–ª—å–Ω–æ, –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!**
- SSL —Ä–∞–±–æ—Ç–∞–µ—Ç (HTTPS)

## –î–µ–ø–ª–æ–π
- **–¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ GitHub Actions!**
- Workflow: .github/workflows/deploy-vds.yml (–ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô —Ä–∞–±–æ—á–∏–π workflow)
- –ü—Ä–∏ push –≤ main –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  1. –û—á–∏—â–∞–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
  2. –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ —á–µ—Ä–µ–∑ git pull
  3. –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
  4. –û–±–Ω–æ–≤–ª—è–µ—Ç frontend
  5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- PostgreSQL –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- Redis –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- Backend –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- Bot –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- –í—Å–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ docker-compose.yml

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º:** —Å–º. —Ä–∞–∑–¥–µ–ª 10.6 –≤ `docs/trenergram-tz-v2.md`
- **–§–∞–π–ª —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** `backend/services/notifications.py`
- **–õ–æ–≥–∏–∫–∞:** —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —á–µ—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ç—Ä–µ–Ω–µ—Ä/–∫–ª–∏–µ–Ω—Ç
- **–ü—Ä–∏–Ω—Ü–∏–ø:** —Ç—Ä–µ–Ω–µ—Ä –ù–ï –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å–∞–º–∏–º —Å–æ–±–æ–π
- **–ü–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ** = –ø–µ—Ä–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É

## –ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞ (Timezones)
- **–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –¢—Ä–µ–Ω–µ—Ä –∏–º–µ–µ—Ç timezone, –∫–ª–∏–µ–Ω—Ç –ù–ï –∏–º–µ–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç timezone —Ç—Ä–µ–Ω–µ—Ä–∞)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** —Å–º. —Ä–∞–∑–¥–µ–ª –ø–æ—Å–ª–µ 10.6 –≤ `docs/trenergram-tz-v2.md`
- **–í–∞–∂–Ω–æ:**
  - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **timezone —Ç—Ä–µ–Ω–µ—Ä–∞**
  - –ö–ª–∏–µ–Ω—Ç **–∂–µ—Å—Ç–∫–æ** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç timezone —Ç—Ä–µ–Ω–µ—Ä–∞ (–Ω–µ —Å–≤–æ–π –º–µ—Å—Ç–Ω—ã–π)
  - API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `trainer_timezone` –≤–æ –≤—Å–µ—Ö booking responses
  - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ timezone —Ç—Ä–µ–Ω–µ—Ä–∞ (`reminder_1_time = "20:00"` –æ–∑–Ω–∞—á–∞–µ—Ç 20:00 –ø–æ –≤—Ä–µ–º–µ–Ω–∏ —Ç—Ä–µ–Ω–µ—Ä–∞)
- **–§–∞–π–ª—ã:**
  - `backend/models/user.py` - –ø–æ–ª–µ `timezone` (default: "Europe/Moscow")
  - `backend/tasks/reminders.py` - —É—á–µ—Ç timezone –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
  - `backend/migrations/add_trainer_timezone.sql` - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î
- **–°—Ç–∞—Ç—É—Å:** Backend ‚úÖ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, Frontend üöß –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è API
curl http://trenergram.ru/health

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Mini App
curl http://trenergram.ru/trainer/

# –°—Ç–∞—Ç—É—Å GitHub Actions
gh run list --limit 1
```

## –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Backend API
‚úÖ Telegram Bot
‚úÖ Mini App –Ω–∞ /trainer/ –∏ /client/
‚úÖ PostgreSQL –∏ Redis
‚úÖ CI/CD —á–µ—Ä–µ–∑ GitHub Actions

## –ß—Ç–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
üöß –í–µ–±-–≤–∏—Ç—Ä–∏–Ω–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
üöß SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
üöß –ü–∞–Ω–µ–ª—å –∫–ª—É–±–∞
üöß –ê–¥–º–∏–Ω–∫–∞

---
*–û–±–Ω–æ–≤–ª–µ–Ω–æ: 08.10.2025*